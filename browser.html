<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Мой браузер</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
        }

        .browser-container {
            width: 100%;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .navbar {
            background-color: #2c3e50;
            padding: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .nav-button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
        }

        .nav-button:hover {
            background-color: #2980b9;
        }

        .nav-button:disabled {
            background-color: #7f8c8d;
            cursor: not-allowed;
        }

        .address-bar {
            flex: 1;
            padding: 8px 12px;
            border: none;
            border-radius: 4px;
            font-size: 14px;
        }

        .browser-content {
            flex: 1;
            border: none;
            background-color: white;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 20px;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="browser-container">
        <div class="navbar">
            <button class="nav-button" id="backBtn" disabled>← Назад</button>
            <button class="nav-button" id="forwardBtn" disabled>Вперед →</button>
            <button class="nav-button" id="refreshBtn">⟳ Обновить</button>
            <input type="text" class="address-bar" id="addressBar" placeholder="Введите URL (например: https://google.com)">
            <button class="nav-button" id="goBtn">Перейти</button>
        </div>
        
        <div class="loading" id="loading">
            Загрузка...
        </div>
        
        <iframe class="browser-content" id="browserFrame" src="about:blank"></iframe>
    </div>

    <script>
        const browserFrame = document.getElementById('browserFrame');
        const addressBar = document.getElementById('addressBar');
        const backBtn = document.getElementById('backBtn');
        const forwardBtn = document.getElementById('forwardBtn');
        const refreshBtn = document.getElementById('refreshBtn');
        const goBtn = document.getElementById('goBtn');
        const loading = document.getElementById('loading');

        // История навигации
        let history = [];
        let currentIndex = -1;

        // Функция для загрузки URL
        function loadURL(url) {
            if (!url) return;
            
            // Добавляем протокол если отсутствует
            if (!url.startsWith('http://') && !url.startsWith('https://')) {
                url = 'https://' + url;
            }
            
            loading.style.display = 'block';
            browserFrame.style.display = 'none';
            
            browserFrame.onload = function() {
                loading.style.display = 'none';
                browserFrame.style.display = 'block';
                updateNavigationButtons();
            };
            
            browserFrame.onerror = function() {
                loading.style.display = 'none';
                browserFrame.style.display = 'block';
                browserFrame.srcdoc = `
                    <html>
                        <head><title>Ошибка</title></head>
                        <body style="padding: 20px; font-family: Arial;">
                            <h2>Ошибка загрузки страницы</h2>
                            <p>Не удалось загрузить: ${url}</p>
                            <p>Проверьте правильность URL и подключение к интернету</p>
                        </body>
                    </html>
                `;
            };
            
            browserFrame.src = url;
            addressBar.value = url;
            
            // Добавляем в историю
            if (currentIndex < history.length - 1) {
                history = history.slice(0, currentIndex + 1);
            }
            history.push(url);
            currentIndex++;
            updateNavigationButtons();
        }

        // Обновление состояния кнопок навигации
        function updateNavigationButtons() {
            backBtn.disabled = currentIndex <= 0;
            forwardBtn.disabled = currentIndex >= history.length - 1;
        }

        // Обработчики событий
        backBtn.addEventListener('click', function() {
            if (currentIndex > 0) {
                currentIndex--;
                loadURL(history[currentIndex]);
            }
        });

        forwardBtn.addEventListener('click', function() {
            if (currentIndex < history.length - 1) {
                currentIndex++;
                loadURL(history[currentIndex]);
            }
        });

        refreshBtn.addEventListener('click', function() {
            if (browserFrame.src !== 'about:blank') {
                browserFrame.src = browserFrame.src;
            }
        });

        goBtn.addEventListener('click', function() {
            loadURL(addressBar.value);
        });

        addressBar.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                loadURL(addressBar.value);
            }
        });

        // Загрузка стартовой страницы
        browserFrame.onload = function() {
            loading.style.display = 'none';
            browserFrame.style.display = 'block';
        };

        // Стартовая страница
        loadURL('https://www.google.com');
    </script>
</body>
</html>
